<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Tailwind Color Palette Generator</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen grid place-content-center p-6">
  <div class="max-w-5xl w-full space-y-6">
    
    <header class="text-center">
      <h1 class="text-3xl font-extrabold text-gray-800">Tailwind Palette Generator</h1>
      <p class="text-gray-600 mt-1">Pick a color → get the full Tailwind scale (50–900)</p>
    </header>

    
    <div class="flex items-center justify-center gap-4">
      <label for="base" class="text-gray-700 font-medium">Base colour</label>
      <input id="base" type="color" value="#6366f1" class="h-10 w-24 rounded cursor-pointer" />
    </div>

    
    <div id="palette" class="grid grid-cols-3 sm:grid-cols-5 md:grid-cols-9 gap-3"></div>

    
    <section class="bg-white rounded-xl shadow p-6 space-y-4">
      <h2 class="text-lg font-semibold text-gray-800">Live preview</h2>
      <div id="preview" class="flex items-center justify-between rounded-lg bg-indigo-500 text-white px-4 py-3">
        <span class="font-medium">text-gray-900 on bg-indigo-500</span>
        <button id="copyPreview" class="text-sm underline">Copy class</button>
      </div>
    </section>
  </div>

  <script>

    const tailwindSteps = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900];
    const baseLight = 0.97;   
    const baseDark  = 0.21;   

    function hexToOklch(hex) {
      
      const r = parseInt(hex.slice(1,3),16)/255;
      const g = parseInt(hex.slice(3,5),16)/255;
      const b = parseInt(hex.slice(5,7),16)/255;
      const l = 0.4122214708*r + 0.5363325363*g + 0.0514459929*b;
      const m = 0.2119034982*r + 0.6806995451*g + 0.1073969566*b;
      const s = 0.0883024619*r + 0.2817188376*g + 0.6299787005*b;
      const L = Math.cbrt(l)*0.2104542553 + Math.cbrt(m)*0.7936177850 - Math.cbrt(s)*0.0040720468;
      const A = Math.cbrt(l)*1.9779984951 - Math.cbrt(m)*2.4285922050 + Math.cbrt(s)*0.4505937099;
      const B = Math.cbrt(l)*0.0259040371 + Math.cbrt(m)*0.7827717662 - Math.cbrt(s)*0.8086757660;
      return {L, A, B};
    }

    function oklchToHex({L,A,B}) {
      const l = L+0.3963377774*A+0.2158037573*B;
      const m = L-0.1055613458*A-0.0638541728*B;
      const s = L-0.0894841775*A-1.2914855480*B;
      const r = +4.0767416621*l -3.3077115913*m +0.2309699292*s;
      const g = -1.2684380046*l +2.6097574011*m -0.3413193965*s;
      const b = -0.0041960863*l -0.7034186147*m +1.7076147010*s;
      const toHex = c => {
        const v = Math.round(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,'0');
        return v;
      };
      return `#${toHex(r)}${toHex(g)}${toHex(b)}`;
    }

    function generatePalette(hex) {
      const {L,A,B} = hexToOklch(hex);
      return tailwindSteps.map((step,i) => {
        const t = i/(tailwindSteps.length-1);
        const newL = baseLight + (baseDark-baseLight)*t;
        return {
          step,
          hex: oklchToHex({L:newL, A, B})
        };
      });
    }

    
    const baseInput   = document.getElementById('base');
    const paletteDiv  = document.getElementById('palette');
    const preview     = document.getElementById('preview');
    const copyPreview = document.getElementById('copyPreview');

    function renderPalette(hex) {
      const colors = generatePalette(hex);
      paletteDiv.innerHTML = '';
      colors.forEach(({step,hex:color}) => {
        const div = document.createElement('div');
        div.className = 'relative h-24 rounded-lg shadow cursor-pointer';
        div.style.backgroundColor = color;
        div.setAttribute('data-color', color);
        div.setAttribute('data-step', step);
        div.innerHTML = `<span class="absolute bottom-2 left-2 text-xs font-semibold text-white bg-black/30 px-2 py-0.5 rounded">${step}</span>`;
        div.addEventListener('click', () => {
          navigator.clipboard.writeText(color);
         
          const span = div.querySelector('span');
          const old = span.textContent;
          span.textContent = 'Copied!';
          setTimeout(() => span.textContent = old, 800);
        });
        paletteDiv.appendChild(div);
      });

      
      const mid = colors[5].hex;
      preview.className = `flex items-center justify-between rounded-lg px-4 py-3`;
      preview.style.backgroundColor = mid;
      preview.style.color = colors[9].hex;
      preview.querySelector('span').textContent = `bg-[${mid}] text-[${colors[9].hex}]`;
    }

    baseInput.addEventListener('input', e => renderPalette(e.target.value));

    copyPreview.addEventListener('click', () => {
      const cls = preview.querySelector('span').textContent;
      navigator.clipboard.writeText(cls);
      copyPreview.textContent = 'Copied!';
      setTimeout(() => copyPreview.textContent = 'Copy class', 800);
    });

    
    renderPalette(baseInput.value);
  </script>
</body>
</html>